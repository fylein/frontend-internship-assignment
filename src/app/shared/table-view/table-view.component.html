<div class="tw-m-24-px">
  <div class="tw-mb-24-px tw-text-24-px"> Top {{ booksList.length }} book{{ booksList.length > 1 ? "s" : "" }} on {{
    subjectName }}</div>

  <table mat-table class="table-view" [dataSource]="booksList">
    <ng-container matColumnDef="title">
      <th mat-header-cell *matHeaderCellDef>Title and Subtitle</th>
      <td mat-cell *matCellDef="let book">
        <a class="tw-no-underline" href="https://openlibrary.org{{ book.key }}" target="_blank">{{ book.title }}</a>
      </td>
    </ng-container>

    <ng-container matColumnDef="author">
      <th mat-header-cell *matHeaderCellDef>Author</th>
      <td mat-cell *matCellDef="let book">
        {{ book.authors.length > 0 ? book.authors[0].name : "Unknown" }}
      </td>
    </ng-container>

    <ng-container matColumnDef="firstPublishYear">
      <th mat-header-cell *matHeaderCellDef>First Publish Year</th>
      <td mat-cell *matCellDef="let book">{{ book.first_publish_year }}</td>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="['title', 'author', 'firstPublishYear']"></tr>
    <tr mat-row *matRowDef="let book; columns: ['title', 'author', 'firstPublishYear']"></tr>
  </table>

  <ng-template #noResults>
    <p>No results found.</p>
  </ng-template>

  <mat-paginator [length]="booksList.length" [pageSize]="pageSize" [pageSizeOptions]="[5, 10, 25]"></mat-paginator>
</div>